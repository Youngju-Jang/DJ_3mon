package bit.basic.obj1;

import java.time.LocalDate;
import java.util.Arrays;

public class ObjectEx3 {
	private String name;
	private int age;
	private boolean birth;
	private String gender;
	private String loca;
	private String ddi;
	
	//  띠, 나이평균, 나이별정렬, 성씨별 인원수
	public ObjectEx3(String info) {		
		setName(info);
		setAge(info);
		isBirth(info);
		setGender(info);
		setLoca(info);
	}
	
	String[] member = {
			"장영주#940207-2111111#051)518-1043",
			"장영#920323-2000000#051)518-3333",
			"장주#900207-2122222#051)518-2222",
			"영주#911212-2133311#051)518-1111",
			"장영주주#920321-2222211#051)518-1000"	};
	public void setLoca(String info) {
		String jibun = info.split("#")[2].substring(0,3);
		if(jibun.equals("051")) {
			this.loca = "부산";
		}else if(jibun.equals("02")) {
			this.loca = "서울";
		}else{
			this.loca = "대한민국 어딘가";
		}
	}
	// 성별
	public void setGender(String info) {
			String gender = info.split("#")[1].split("-")[1].substring(0,1);
			this.gender = (gender.equals("2") || gender.equals("4"))? "f" : "m";
	}
	// 오늘생일여부
	public void isBirth(String info) {
		LocalDate now = LocalDate.now();
		String[] today = now.toString().split("-");
		
		String jumin = info.split("#")[1];
		if(jumin.substring(2, 6).equals(today[1]+today[2])) {
			this.birth = true;
		}else {
			this.birth = false;
		}			
	}
	// 나이
	public void setAge(String info) {
		String jumin = info.split("#")[1];
		int front = Integer.parseInt(jumin.substring(0, 2));
		int back = Integer.parseInt(jumin.split("-")[1].substring(0, 1));
		if(back==1 || back==2) {
			this.age = 123-front + 1;
		}else {
			this.age = 23-front + 1;
		}
	}
	// 이름
	public void setName(String info) {
			this.name = info.split("#")[0];
	}
	public static void main(String[] args) {
		ObjectEx3 o = new ObjectEx3();
		System.out.println(Arrays.toString(o.getNames()));
		System.out.println(Arrays.toString(o.getAges()));
		System.out.println(Arrays.toString(o.isBirth()));
	}
}
